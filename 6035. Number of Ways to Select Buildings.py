from time import time


class Solution:
    def numberOfWays(self, s: str) -> int:

        result = 0

        zeros_after = 0
        ones_after = 0

        for c in s:
            if c == '0':
                zeros_after += 1
            else:
                ones_after += 1

        zeros_before = 0
        ones_before = 0

        for c in s:
            if c == '0':  # 101
                result += ones_before * ones_after
                zeros_before += 1
                zeros_after -= 1
            else:  # 010
                result += zeros_before * zeros_after
                ones_before += 1
                ones_after -= 1

        return result


start_time = time()

_s = "001101"
# _s = "010101010101"
# _s = "010101"
_s = "0101010101"

_s = "1110110010111000010010001101010000010001010001110101100001001111101000101001001101000101100010000110110010101" \
     "0111010001110100100001001111101001101110011011011010000011100101100101110001101001110110111111000111001101101" \
     "1010001010011000110101001111101111000000110001011100001001101001010111100111001000100101110101011111000101110" \
     "0110000100010101010001111110100100111001000010110010111011001110001000100110011100000010001100110001011010101" \
     "1100001100101111001100010011110100101110011011000110101010100000111111010000100011110010110001101011100001111" \
     "1110011111001000001110100011001001010101100000000110010100101100001010001001110001001101001100001111110000000" \
     "1010100100111000010011101101001100000010010111101110011101111110101100100100110001011111000101000001100110100" \
     "1000011010001010001000100000100010100100010010001110110110111011111100111001101010110011010100011111110010111" \
     "1100001010001010101111111010011101100111101011101010010011100011011111100001001101111010110001001010100111101" \
     "0000000100011101011111010010001011101010111001100000000001111000010010110001100100111111110111000100101110101" \
     "1000100010010100000110101001100010100111111110111001011111100011101010110000001101011000001010011101101010110" \
     "0100101000101110011000001101001000111110111110110000111001001010100110010100010100011010110011100100111111101" \
     "1000101110010010001000011011110111100001111000111110001101111010001110011111000101011011010001111010000010011" \
     "1000011100100100000010110011000001111100001001001001100101100011010000011110100100101100001101110000001111100" \
     "1000000010011001110110101111101111111010010010010001011111101001100100000010101100010110001000101101001110000" \
     "1011001110011001110111000011011011100100110111110110001010100010111010110011000010010100010110111100011010111" \
     "0111010010001011101010010010100110111101000110111111110101101000011000101010110110010100011000000001000010011" \
     "0011000011010110110101001101111010111100011000000101100111000010111010000111000111001010101100110111001111000" \
     "0011111011011011110000111101101111001010101011000110001100101011100100111100011101101000000101110000011100000" \
     "0100111101001011101110100110111111001011000101100011001011101101110100100100001010111010110110010010100100000" \
     "0000101001010101100010111000000110011011100100110101111101001110101011010100011000101100111110100100111011010" \
     "0100110101110010110001110111100100001010011001100011100110110101111010101110011101011101011010000111001000110" \
     "1101101001000111001011111100111111010011101101111010111110011000000010011011110010010100000011000010010010001" \
     "1010101000110110101000100011001111000100000110111001111110100011001001010101001001110100110110100110010001101" \
     "1011101101111010010100111011000100111110111010111111011110001101100011000000010001110101011010101001100101011" \
     "1010110110010111101011011001111011010111111000111101111100011000100010010011011001010010001010011111111111001" \
     "1110101110001000011100101001010101100101001010111011110100101110000000100110001111001000101101100101001000111" \
     "1011010011110011111101000010101101111110100100101010010011111000101000101110111010100101111000001111110111100" \
     "1010100100101000111110110011000111101100100101100010101101001001011111110010100010100000000101101111001010101" \
     "0111101110001001111001101000100001010111100001111001000110100001111001111110001110110010100100111110111011101" \
     "1111000110010101111100010101011100010000001010011011100010100101001001100010101110010111111110001101100000001" \
     "0011100101011010000001100111011000010101010000011001100010001010011110100101100100011110110001011111000000100" \
     "1101001001001001000010000110010110011101101000101100101001101010111100011100011010011011110011110010010010001" \
     "0000100101000010100100010111010111011100110101011001001100010011011000111001010011111101110011001000110000110" \
     "0100110111011011110000011111101110001101110011111001010010101010011010110000001011001110000000101011011011110" \
     "1011001001101100011110011010000000000010000100011111011000111011101101001000111010100000101000110110000100010" \
     "0011011010000100101100010100101101101110000101110010110101011110001000000100111101010100010110110000011010001" \
     "0001111000100111111000111001111011001000011110111111111000101001001001100000001000111000001111100111111001100" \
     "1101110100110110100100011000101011000000111100010101101010010110100001000101111111110001100000100101011101111" \
     "1011000111111001100011110001101011011011010001110111100110101110010001110010101001011111101010011101101100001" \
     "0010101100011111100010001101011100110101100000111011011100010011101101000111101001101011101010011110110010101" \
     "1011001000111001110010001101011111010011011011000110101111011001000001100111011010011101000000011011110111100" \
     "1110001000110011010111111000011111110101010101000111110101110101011011000000110001100000010111001010001011011" \
     "0000011110100000111110100000100100011111010111001111100010101001111110111011010000001001001010110111101001111" \
     "0011010001100101010011101011111011111100010111100011111010010110111111000111111010101000101110110011010001100" \
     "1110001000001110001001011111000111100101100110000110100011111000010101111010000010011000110000001110100001100" \
     "1110100001001110101100010101111000010001001100111011110011101010101100100101001100000001000111010010100101100" \
     "0001111010111011100111011001000110101001101011011111100010010100010101000001010110000011000010001100000010001" \
     "0100101000001010111010011011010011110101100110001001001000100101011110110001100001111101001010011011110001000" \
     "1111011101110101110001001101011111010110000101000011010011000100011101111101111101110001001011001110101011001" \
     "1001100010010100100010111010001010101010101011100001011110100000001000101101000110111110001000101010000001110" \
     "0101111000010100100100111010011101110000011000100011011111110110101100000001000111001111010110001001100101001" \
     "0001001001000001001001110010001001010000011100000001111011110011010010011101101101110111011111010100100000110" \
     "1101100111001100111010100100011000110111010111000010110110011000111011111000011010101011111110100110000110101" \
     "1001100011001011101011001011110010111111110000101011101011001011011101111000010110101011000111111011101110011" \
     "1101110000111010110111010110001101100110101000011000110001101110111111100111100010000110111101111110111000011" \
     "1000110011010111000100010010000001001101101110101000101101000111111101111001000111100000001001000100000010101" \
     "1111010100101001101011100001011010000011110001110100010001111101111101000001111100100010010001101100001111010" \
     "000001001101100100100100110001111000111000100100011110111101110001011000000101110100000100"
# Input: s = "001101"
# Output: 6
# Explanation:
# The following sets of indices selected are valid:
# - [0,2,4] from "001101" forms "010"
# - [0,3,4] from "001101" forms "010"
# - [1,2,4] from "001101" forms "010"
# - [1,3,4] from "001101" forms "010"
# - [2,4,5] from "001101" forms "101"
# - [3,4,5] from "001101" forms "101"
# No other selection is valid. Thus, there are 6 total ways.

print(Solution().numberOfWays(_s))

print("--- %s seconds ---" % (time() - start_time))
